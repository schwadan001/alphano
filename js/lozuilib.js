"undefined"==typeof console&&(this.console={log:function(){}});var lozData={};function lozGetURLArgs(){for(var a=location.href,t=a.substring(a.indexOf("?")+1).split("&"),o=0,e={};o<t.length;o++)t[o]=t[o].split("="),e[t[o][0]]=decodeURIComponent(t[o][1]);return e}function lozDecodeFEN(a){var t=(a=a.replace(/\s+/g," ")).split(" "),o={};return o.board=null==t[0]?"":t[0],o.turn=null==t[1]?"w":t[1],o.rights=null==t[2]?"KQkq":t[2],o.ep=null==t[3]?"-":t[3],o}function lozEncodeFEN(a){return a.board+" "+a.turn+" "+a.rights+" "+a.ep+" 0 1"}function lozMakeURL(a){var t=lozData.page,o="?";for(var e in a)void 0!==a[e]&&(t+=o+e+"="+a[e],o="&");return t}function lozGetInt(a,t){for(var o=0;o<lozData.tokens.length;o++)if(lozData.tokens[o]==a)return parseInt(lozData.tokens[o+1]);return t}function lozGetInt1(a,t){for(var o=0;o<lozData.tokens.length;o++)if(lozData.tokens[o]==a)return parseInt(lozData.tokens[o+2]);return t}function lozGetStr(a,t){for(var o=0;o<lozData.tokens.length;o++)if(lozData.tokens[o]==a)return lozData.tokens[o+1];return t}function lozGetStrToEnd(a,t){for(var o=0;o<lozData.tokens.length;o++)if(lozData.tokens[o]==a){for(var e="",l=o+1;l<lozData.tokens.length;l++)e+=lozData.tokens[l]+" ";return e}return t}function lozStandardRx(a){if(lozData.message=a.data,lozData.message=lozData.message.trim(),lozData.message=lozData.message.replace(/\s+/g," "),lozData.tokens=lozData.message.split(" "),"bestmove"==lozData.tokens[0])lozUpdateStats(),lozData.bm=lozGetStr("bestmove",""),lozData.bmFr=lozData.bm[0]+lozData.bm[1],lozData.bmTo=lozData.bm[2]+lozData.bm[3],lozData.bm.length>4?lozData.bmPr=lozData.bm[4]:lozData.bmPr="",lozUpdateBestMove();else if("option"==lozData.tokens[0]);else if("info"==lozData.tokens[0]&&"string"==lozData.tokens[1]&&"debug"==lozData.tokens[2])lozData.info="<b>"+lozData.message.replace(/info string debug /,"")+"</b>",lozUpdateInfo();else if("info"==lozData.tokens[0]&&"string"==lozData.tokens[1])lozData.info=lozData.message.replace(/info string /,""),lozUpdateInfo();else if("info"==lozData.tokens[0]){var t=lozData.pv,o=lozData.score,e=lozData.units,l=lozData.depth;lozData.mvStr=lozGetStr("currmove",lozData.mvStr),lozData.mvNum=lozGetInt("currmovenumber",lozData.mvNum),lozData.depth=lozGetInt("depth",lozData.depth),lozData.selDepth=lozGetInt("seldepth",lozData.seldepth),lozData.units=lozGetStr("score",lozData.units),lozData.score=lozGetInt1("score",lozData.score),lozData.pv=lozGetStrToEnd("pv",lozData.pv),lozData.nodes=lozGetInt("nodes",lozData.nodes),lozData.time=lozGetInt("time",lozData.time),lozData.nps=lozGetInt("nps",lozData.nps),lozData.hashFull=lozGetInt("hashfull",lozData.hashFull),lozData.seconds=(lozData.time/1e3).round(2),lozData.meganodes=(lozData.nodes/1e6).round(2),lozData.mnps=(lozData.nps/1e6).round(2),lozData.kilonodes=(lozData.nodes/1e3).round(2),lozData.knps=(lozData.nps/1e3).round(2),lozUpdateStats(),t==lozData.pv&&o==lozData.score&&e==lozData.units&&l==lozData.depth||lozUpdatePV()}else"board"==lozData.tokens[0]?(lozData.board=lozGetStr("board",""),lozUpdateBoard()):(lozData.info=lozData.message,lozUpdateInfo())}function lozUpdateBestMove(){}function lozUpdateStats(){if(lozData.mvNum&&lozData.mvStr)var a=" | "+lozData.mvNum+"/"+lozData.mvStr;else a="";if(lozData.hashFull)var t=" | "+lozData.hashFull/10+"%";else t="";$(lozData.idStats).html(lozData.seconds+" s | "+lozData.kilonodes+" kn | "+lozData.knps+" kn/s"+a+t)}function lozUpdatePV(){if(lozData.selDepth)var a=lozData.depth+"/"+lozData.selDepth;else a=lozData.depth;$(lozData.idInfo).prepend(lozData.seconds+" "+a+" ("+lozData.score+lozData.units+") "+lozData.pv+"<br>")}function lozUpdateInfo(){$(lozData.idInfo).prepend(lozData.info+"<br>")}function lozUpdateBoard(){var a="board"+lozData.next++;$(lozData.idInfo).prepend('<div style="width: 250px;" id="'+a+'"><div>');new ChessBoard(a,{showNotation:!0,draggable:!0,dropOffBoard:"snapback",position:lozData.tokens[1]})}lozData.next=0,lozData.hashFull=0,lozData.mvNum=0,lozData.mvStr="",lozData.source="js/lozza.js",Number.prototype.round=function(a){return+(Math.round(this+"e+"+a)+"e-"+a)};